<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Wowr::Classes::FullCharacter</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Wowr::Classes::FullCharacter</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/lib/wowr/character_rb.html">
                lib/wowr/character.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="Character.html">
                Character
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Full character details uses characterInfo element Made up of two parts,
character and charactertab
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000024">character_info</a>&nbsp;&nbsp;
      <a href="#M000027">character_reputation</a>&nbsp;&nbsp;
      <a href="#M000026">character_skills</a>&nbsp;&nbsp;
      <a href="#M000025">character_tab</a>&nbsp;&nbsp;
      <a href="#M000023">new</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">



    <div id="aliases-list">
      <h3 class="section-bar">External Aliases</h3>

      <div class="name-list">
                        <table summary="aliases">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">strength</td>
          <td>-&gt;</td>
          <td class="context-item-value">str</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">agility</td>
          <td>-&gt;</td>
          <td class="context-item-value">agi</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">stamina</td>
          <td>-&gt;</td>
          <td class="context-item-value">sta</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">intellect</td>
          <td>-&gt;</td>
          <td class="context-item-value">int</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">spirit</td>
          <td>-&gt;</td>
          <td class="context-item-value">spi</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">skill_categories</td>
          <td>-&gt;</td>
          <td class="context-item-value">skills</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">reputation_categories</td>
          <td>-&gt;</td>
          <td class="context-item-value">rep</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">reputation_categories</td>
          <td>-&gt;</td>
          <td class="context-item-value">reputation</td>
        </tr>
                        </table>
      </div>
    </div>


    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">agility</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000025">character_tab</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">arena_teams</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000024">character_info</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">buffs</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">char_url</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000024">character_info</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">debuffs</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">defenses</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">faction</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000024">character_info</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">faction_id</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000024">character_info</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">health</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000025">character_tab</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">intellect</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000025">character_tab</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">items</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">last_modified</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000024">character_info</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">melee</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">professions</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">pvp</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ranged</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">reputation_categories</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">resistances</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">second_bar</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000025">character_tab</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">skill_categories</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">spell</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">spirit</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000025">character_tab</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">stamina</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000025">character_tab</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">strength</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000025">character_tab</a>

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">talent_spec</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">title</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
<a href="FullCharacter.html#M000024">character_info</a>

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000023" class="method-detail">
        <a name="M000023"></a>

        <div class="method-heading">
          <a href="#M000023" class="method-signature">
          <span class="method-name">new</span><span class="method-args">(sheet, skills, reputation, api = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
It&#8216;s made up of two parts Don&#8216;t care about battlegroups yet I
don&#8216;t think I can call stuff from the constructor?
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000023-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000023-source">
<pre>
     <span class="ruby-comment cmt"># File lib/wowr/character.rb, line 164</span>
164:                         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">sheet</span>, <span class="ruby-identifier">skills</span>, <span class="ruby-identifier">reputation</span>, <span class="ruby-identifier">api</span> = <span class="ruby-keyword kw">nil</span>)
165:                                 <span class="ruby-ivar">@api</span> = <span class="ruby-identifier">api</span>
166:                                 
167:                                 <span class="ruby-identifier">character_info</span>(<span class="ruby-identifier">sheet</span><span class="ruby-operator">%</span><span class="ruby-value str">'character'</span>)
168:                                 <span class="ruby-identifier">character_tab</span>(<span class="ruby-identifier">sheet</span><span class="ruby-operator">%</span><span class="ruby-value str">'characterTab'</span>)
169:                                 <span class="ruby-identifier">character_skills</span>(<span class="ruby-identifier">skills</span>)
170:                                 <span class="ruby-identifier">character_reputation</span>(<span class="ruby-identifier">reputation</span>)
171:                         <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="#M000024" class="method-signature">
          <span class="method-name">character_info</span><span class="method-args">(elem)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
&lt;character
</p>
<pre>
 battleGroup=&quot;Conviction&quot;
 charUrl=&quot;r=Genjuros&amp;amp;n=Jonlok&quot;
 class=&quot;Warlock&quot;
 classId=&quot;9&quot;
 faction=&quot;Horde&quot;
 factionId=&quot;1&quot;
 gender=&quot;Male&quot;
 genderId=&quot;0&quot;
 guildName=&quot;&quot;
 lastModified=&quot;12 February 2008&quot;
 level=&quot;41&quot;
 name=&quot;Jonlok&quot;
 prefix=&quot;&quot;
 race=&quot;Orc&quot;
 raceId=&quot;2&quot;
 realm=&quot;Genjuros&quot;
 suffix=&quot;&quot;/&gt;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000024-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000024-source">
<pre>
     <span class="ruby-comment cmt"># File lib/wowr/character.rb, line 192</span>
192:                         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">character_info</span>(<span class="ruby-identifier">elem</span>)
193:                                 <span class="ruby-comment cmt"># basic info</span>
194:                                 <span class="ruby-ivar">@name</span>                             = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:name</span>]
195:                                 <span class="ruby-ivar">@level</span>                      = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:level</span>].<span class="ruby-identifier">to_i</span>
196:                                 <span class="ruby-ivar">@char_url</span>   = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:charUrl</span>]
197:                                 
198:                                 <span class="ruby-ivar">@klass</span>                      = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:class</span>]
199:                                 <span class="ruby-ivar">@klass_id</span>           = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:classId</span>].<span class="ruby-identifier">to_i</span>
200: 
201:                                 <span class="ruby-ivar">@gender</span>             = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:gender</span>]
202:                                 <span class="ruby-ivar">@gender_id</span>  = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:genderId</span>].<span class="ruby-identifier">to_i</span>
203: 
204:                                 <span class="ruby-ivar">@race</span>                       = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:race</span>]
205:                                 <span class="ruby-ivar">@race_id</span>            = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:raceId</span>].<span class="ruby-identifier">to_i</span>
206:                                 
207:                                 <span class="ruby-ivar">@faction</span>            = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:faction</span>]
208:                                 <span class="ruby-ivar">@faction_id</span> = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:factionId</span>].<span class="ruby-identifier">to_i</span>
209:                                 
210:                                 <span class="ruby-ivar">@guild</span>                      = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:guildName</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:guildName</span>]
211:                                 <span class="ruby-ivar">@guild_url</span>  = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:guildUrl</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:guildUrl</span>]
212:                                 
213:                                 <span class="ruby-ivar">@prefix</span>                     = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:prefix</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:prefix</span>]
214:                                 <span class="ruby-ivar">@suffix</span>                     = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:suffix</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:suffix</span>]
215:                                 
216:                                 <span class="ruby-ivar">@realm</span>                      = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:realm</span>]
217:                                 
218:                                 <span class="ruby-ivar">@battle_group</span> = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:battleGroup</span>]
219:                                 
220:                                 <span class="ruby-comment cmt"># format is February 11, 2008</span>
221:                                 <span class="ruby-comment cmt"># except when it's korean, and then it's 2008년 5월 11일 (일)</span>
222:                                 <span class="ruby-comment cmt"># tw is 2008&amp;#24180;5&amp;#26376;11&amp;#26085; (2008年5月11日)</span>
223:                                 <span class="ruby-comment cmt"># TODO: Datetime doesn't parse other languages nicely</span>
224:                                 <span class="ruby-comment cmt">#                   Until then, just save it as a string</span>
225:                                 <span class="ruby-keyword kw">begin</span>
226:                                         <span class="ruby-ivar">@last_modified</span>     = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:lastModified</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:lastModified</span>])
227:                                 <span class="ruby-keyword kw">rescue</span>
228:                                         <span class="ruby-ivar">@last_modified</span>     = <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:lastModified</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">elem</span>[<span class="ruby-identifier">:lastModified</span>]
229:                                 <span class="ruby-keyword kw">end</span>
230:                                 <span class="ruby-comment cmt">#@last_modified = elem[:lastModified]#.to_time</span>
231:                                 
232:                                 <span class="ruby-ivar">@arena_teams</span> = []
233:                                 (<span class="ruby-identifier">elem</span><span class="ruby-operator">/</span><span class="ruby-identifier">:arenaTeam</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">arena_team</span><span class="ruby-operator">|</span>
234:                                         <span class="ruby-ivar">@arena_teams</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">ArenaTeam</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arena_team</span>)
235:                                 <span class="ruby-keyword kw">end</span>
236:                                 
237:                         <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="#M000027" class="method-signature">
          <span class="method-name">character_reputation</span><span class="method-args">(elem)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
character-reputation.xml
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000027-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000027-source">
<pre>
     <span class="ruby-comment cmt"># File lib/wowr/character.rb, line 304</span>
304:                         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">character_reputation</span>(<span class="ruby-identifier">elem</span>)
305:                                 <span class="ruby-ivar">@reputation_categories</span> = {}
306:                                 (<span class="ruby-identifier">elem</span><span class="ruby-operator">/</span><span class="ruby-identifier">:factionCategory</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">category</span><span class="ruby-operator">|</span>
307:                                         <span class="ruby-ivar">@reputation_categories</span>[<span class="ruby-identifier">category</span>[<span class="ruby-identifier">:key</span>]] = <span class="ruby-constant">RepFactionCategory</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">category</span>)
308:                                 <span class="ruby-keyword kw">end</span>
309:                         <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <a href="#M000026" class="method-signature">
          <span class="method-name">character_skills</span><span class="method-args">(elem)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
character-skills.xml
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000026-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000026-source">
<pre>
     <span class="ruby-comment cmt"># File lib/wowr/character.rb, line 296</span>
296:                         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">character_skills</span>(<span class="ruby-identifier">elem</span>)
297:                                 <span class="ruby-ivar">@skill_categories</span> = {}
298:                                 (<span class="ruby-identifier">elem</span><span class="ruby-operator">/</span><span class="ruby-identifier">:skillCategory</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">category</span><span class="ruby-operator">|</span>
299:                                         <span class="ruby-ivar">@skill_categories</span>[<span class="ruby-identifier">category</span>[<span class="ruby-identifier">:key</span>]] = <span class="ruby-constant">SkillCategory</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">category</span>)
300:                                 <span class="ruby-keyword kw">end</span>
301:                         <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="#M000025" class="method-signature">
          <span class="method-name">character_tab</span><span class="method-args">(elem)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000025-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000025-source">
<pre>
     <span class="ruby-comment cmt"># File lib/wowr/character.rb, line 239</span>
239:                         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">character_tab</span>(<span class="ruby-identifier">elem</span>)
240:                                 
241:                                 <span class="ruby-comment cmt"># &lt;title value=&quot;&quot;/&gt;</span>
242:                                 <span class="ruby-ivar">@title</span>                              = (<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'title'</span>)[<span class="ruby-identifier">:value</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> (<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'title'</span>)[<span class="ruby-identifier">:value</span>]
243:                                 <span class="ruby-comment cmt">#@known_titles = &lt;knownTitles/&gt;</span>
244:                                 
245:                                 <span class="ruby-ivar">@health</span>             = (<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'characterBars'</span><span class="ruby-operator">%</span><span class="ruby-value str">'health'</span>)[<span class="ruby-identifier">:effective</span>].<span class="ruby-identifier">to_i</span>
246:                                 <span class="ruby-ivar">@second_bar</span> = <span class="ruby-constant">SecondBar</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'characterBars'</span><span class="ruby-operator">%</span><span class="ruby-value str">'secondBar'</span>)
247:                                 
248:                                 <span class="ruby-comment cmt"># base stats</span>
249:                                 <span class="ruby-ivar">@strength</span>   = <span class="ruby-constant">Strength</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'baseStats'</span><span class="ruby-operator">%</span><span class="ruby-value str">'strength'</span>)
250:                                 <span class="ruby-ivar">@agility</span>            = <span class="ruby-constant">Agility</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'baseStats'</span><span class="ruby-operator">%</span><span class="ruby-value str">'agility'</span>)
251:                                 <span class="ruby-ivar">@stamina</span>            = <span class="ruby-constant">Stamina</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'baseStats'</span><span class="ruby-operator">%</span><span class="ruby-value str">'stamina'</span>)
252:                                 <span class="ruby-ivar">@intellect</span>  = <span class="ruby-constant">Intellect</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'baseStats'</span><span class="ruby-operator">%</span><span class="ruby-value str">'intellect'</span>)
253:                                 <span class="ruby-ivar">@spirit</span>             = <span class="ruby-constant">Spirit</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'baseStats'</span><span class="ruby-operator">%</span><span class="ruby-value str">'spirit'</span>)
254:                                 
255:                                 <span class="ruby-comment cmt"># damage stuff</span>
256:                                 <span class="ruby-ivar">@melee</span>              = <span class="ruby-constant">Melee</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'melee'</span>)
257:                                 <span class="ruby-ivar">@ranged</span>     = <span class="ruby-constant">Ranged</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'ranged'</span>)
258:                                 <span class="ruby-ivar">@spell</span>              = <span class="ruby-constant">Spell</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">' &gt; spell'</span>))   <span class="ruby-comment cmt"># TODO: hacky?</span>
259:                                 <span class="ruby-ivar">@defenses</span> = <span class="ruby-constant">Defenses</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'defenses'</span>)
260:                                 
261:                                 <span class="ruby-comment cmt"># TODO: Massive problem, doesn't fill in resistances for some reason</span>
262:                                 <span class="ruby-identifier">resist_types</span> = [<span class="ruby-value str">'arcane'</span>, <span class="ruby-value str">'fire'</span>, <span class="ruby-value str">'frost'</span>, <span class="ruby-value str">'holy'</span>, <span class="ruby-value str">'nature'</span>, <span class="ruby-value str">'shadow'</span>]
263:                                 <span class="ruby-ivar">@resistances</span> = {}
264:                                 <span class="ruby-identifier">resist_types</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">res</span><span class="ruby-operator">|</span>
265:                                         <span class="ruby-ivar">@resistances</span>[<span class="ruby-identifier">res</span>] = <span class="ruby-constant">Resistance</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'resistances'</span><span class="ruby-operator">%</span><span class="ruby-identifier">res</span>)
266:                                 <span class="ruby-keyword kw">end</span>
267:                                 
268:                                 <span class="ruby-ivar">@talent_spec</span> = <span class="ruby-constant">TalentSpec</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'talentSpec'</span>)
269:                                 
270:                                 <span class="ruby-ivar">@pvp</span> = <span class="ruby-constant">Pvp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'pvp'</span>)
271:                                                                 
272:                                 <span class="ruby-comment cmt"># Also accessible from</span>
273:                                 <span class="ruby-comment cmt"># character.skills['professions']</span>
274:                                 <span class="ruby-ivar">@professions</span> = []
275:                                 (<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'professions'</span><span class="ruby-operator">/</span><span class="ruby-identifier">:skill</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">skill</span><span class="ruby-operator">|</span>
276:                                         <span class="ruby-ivar">@professions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Skill</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">skill</span>)
277:                                 <span class="ruby-keyword kw">end</span>
278:                                 
279:                                 <span class="ruby-ivar">@items</span> = []
280:                                 (<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'items'</span><span class="ruby-operator">/</span><span class="ruby-identifier">:item</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
281:                                         <span class="ruby-ivar">@items</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">EquippedItem</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">item</span>, <span class="ruby-ivar">@api</span>)
282:                                 <span class="ruby-keyword kw">end</span>
283:                                 
284:                                 <span class="ruby-ivar">@buffs</span> = []
285:                                 (<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'buffs'</span><span class="ruby-operator">/</span><span class="ruby-identifier">:spell</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">buff</span><span class="ruby-operator">|</span>
286:                                         <span class="ruby-ivar">@buffs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Buff</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">buff</span>, <span class="ruby-ivar">@api</span>)
287:                                 <span class="ruby-keyword kw">end</span>
288:                                 
289:                                 <span class="ruby-ivar">@debuffs</span> = []
290:                                 (<span class="ruby-identifier">elem</span><span class="ruby-operator">%</span><span class="ruby-value str">'debuffs'</span><span class="ruby-operator">/</span><span class="ruby-identifier">:spell</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">debuff</span><span class="ruby-operator">|</span>
291:                                         <span class="ruby-ivar">@debuffs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Buff</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">debuff</span>, <span class="ruby-ivar">@api</span>)
292:                                 <span class="ruby-keyword kw">end</span>
293:                         <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>